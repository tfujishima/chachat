<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Chachat</title>
<link href="/css/style.css" th:href="@{/css/style.css}" rel="stylesheet"></link>
<link
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"
	rel="stylesheet">
</head>
<body>

	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<h1>Chachat</h1>
				<!-- <img alt="test" th:src="@{/img/Desert.jpg}"> -->
			</div>
		</div>
		<form th:object="${registForm}" th:action="@{/}" method="post">
			<div class="row">
				<div class="col-sm-4">ルームネームを入れてね</div>
				<div class="col-sm-8">
					<input th:field="*{roomName}" type="text" />
				</div>
			</div>
			<div class="row">
				<div th:if="${valid_error == '1'}" class="col-sm-12">
					<p>ちゃんと入れろよ！</p>
				</div>
				<div class="col-sm-12">
					<button>決定</button>
				</div>
			</div>
		</form>
		<div class="row" th:if="${valid_error == '0'}">
			<div class="col-sm-8">
				<input id="copyTarget" type="text"
					th:value="|${url}|" readonly></input>
			</div>
			<div class="col-sm-4">
				<button onclick="copyToClipboard()">copy</button>
			</div>

		</div>

	</div>
	<script>
		function copyToClipboard() {
			// コピー対象をJavaScript上で変数として定義する
			var copyTarget = document.getElementById("copyTarget");
			// コピー対象のテキストを選択する
			copyTarget.select();
			// 選択しているテキストをクリップボードにコピーする
			document.execCommand("Copy");
		}
	</script>
	<script th:src="@{/webjars/jquery/3.3.1/jquery.min.js}"></script>

</body>
</html>